import streamlit as st
import datetime

# ë³„ìë¦¬ ê³„ì‚° í•¨ìˆ˜
def get_zodiac(month, day):
    zodiac_dates = [
        ((1, 20), (2, 18), "ë¬¼ë³‘ìë¦¬"),
        ((2, 19), (3, 20), "ë¬¼ê³ ê¸°ìë¦¬"),
        ((3, 21), (4, 19), "ì–‘ìë¦¬"),
        ((4, 20), (5, 20), "í™©ì†Œìë¦¬"),
        ((5, 21), (6, 21), "ìŒë‘¥ì´ìë¦¬"),
        ((6, 22), (7, 22), "ê²Œìë¦¬"),
        ((7, 23), (8, 22), "ì‚¬ììë¦¬"),
        ((8, 23), (9, 22), "ì²˜ë…€ìë¦¬"),
        ((9, 23), (10, 22), "ì²œì¹­ìë¦¬"),
        ((10, 23), (11, 22), "ì „ê°ˆìë¦¬"),
        ((11, 23), (12, 21), "ì‚¬ìˆ˜ìë¦¬"),
        ((12, 22), (1, 19), "ì—¼ì†Œìë¦¬"),
    ]

    for start, end, zodiac in zodiac_dates:
        if (month == start[0] and day >= start[1]) or (month == end[0] and day <= end[1]):
            return zodiac
    return "ì•Œ ìˆ˜ ì—†ìŒ"

# ë³„ìë¦¬ë³„ ì—°ì•  ì„±í–¥ (ì„±ë³„ í¬í•¨)
love_traits = {
    "ì–‘ìë¦¬": {
        "ë‚¨ì„±": "ì—´ì •ì ì´ê³  ì§ì„¤ì ì´ë©°, ì—°ì• ì—ì„œ ë¦¬ë“œí•˜ë ¤ëŠ” ê²½í–¥ì´ ê°•í•˜ë‹¤. ì‚¬ë‘ì„ ë¹ ë¥´ê²Œ í‘œí˜„í•˜ê³  ì ê·¹ì ì´ë‹¤.",
        "ì—¬ì„±": "ìì‹ ê° ë„˜ì¹˜ê³  ì†”ì§í•˜ë©°, ìƒëŒ€ì—ê²Œ ë§¤ë ¥ì„ ë°œì‚°í•œë‹¤. ê°•í•œ ë…ë¦½ì‹¬ìœ¼ë¡œ ì—°ì• ì—ì„œë„ ì£¼ë„ê¶Œì„ ê°€ì§€ë ¤ í•œë‹¤."
    },
    "í™©ì†Œìë¦¬": {
        "ë‚¨ì„±": "ì•ˆì •ì ì´ê³  ì±…ì„ê°ì´ ê°•í•˜ë©°, í˜„ì‹¤ì ì¸ ì‚¬ë‘ì„ ì¤‘ì‹œí•œë‹¤. ë¯¿ìŒì„ ì£¼ëŠ” ì—°ì•  ìŠ¤íƒ€ì¼ì´ë‹¤.",
        "ì—¬ì„±": "í—Œì‹ ì ì´ê³  ê°ê°ì ì´ë©°, ì•ˆì •ëœ ê´€ê³„ë¥¼ ì›í•œë‹¤. ëŠê¸‹í•˜ì§€ë§Œ ë³€í•¨ì—†ëŠ” ì‚¬ë‘ì„ ì¤€ë‹¤."
    },
    "ìŒë‘¥ì´ìë¦¬": {
        "ë‚¨ì„±": "ì§€ì  í˜¸ê¸°ì‹¬ì´ ê°•í•´ ëŒ€í™”ë¡œ ìƒëŒ€ë¥¼ ëŒì–´ë‹¹ê¸´ë‹¤. ë³€ë•ìŠ¤ëŸ½ì§€ë§Œ ë§¤ë ¥ì´ ë„˜ì¹œë‹¤.",
        "ì—¬ì„±": "ë°ê³  ì‚¬êµì ì´ë©°, ìƒëŒ€ë°©ê³¼ ë‹¤ì–‘í•œ ê²½í—˜ì„ ê³µìœ í•˜ê³  ì‹¶ì–´ í•œë‹¤. ìê·¹ì ì¸ ì—°ì• ë¥¼ ì¦ê¸´ë‹¤."
    },
    "ê²Œìë¦¬": {
        "ë‚¨ì„±": "ê°€ì¡±ì ì´ê³  ë”°ëœ»í•˜ë©°, ë³´í˜¸ ë³¸ëŠ¥ì´ ê°•í•˜ë‹¤. ë‹¤ì†Œ ì†Œì‹¬í•˜ì§€ë§Œ ì§„ì‹¬ ì–´ë¦° ì‚¬ë‘ì„ í•œë‹¤.",
        "ì—¬ì„±": "ë‹¤ì •í•˜ê³  ë°°ë ¤ì‹¬ì´ ë§ìœ¼ë©°, ìƒëŒ€ë°©ì„ ëŒë³´ë ¤ëŠ” ì„±í–¥ì´ ê°•í•˜ë‹¤. ì•ˆì •ëœ ì‚¬ë‘ì„ ì›í•œë‹¤."
    },
    "ì‚¬ììë¦¬": {
        "ë‚¨ì„±": "ìì¡´ì‹¬ì´ ê°•í•˜ê³  í™”ë ¤í•œ ì—°ì• ë¥¼ ì¦ê¸´ë‹¤. ìƒëŒ€ë°©ì—ê²Œ íŠ¹ë³„í•œ ëŒ€ìš°ë¥¼ í•˜ë©° ì‚¬ë‘ì„ í¬ê²Œ í‘œí˜„í•œë‹¤.",
        "ì—¬ì„±": "ë‹¹ë‹¹í•˜ê³  ì¹´ë¦¬ìŠ¤ë§ˆ ìˆìœ¼ë©°, ì—°ì• ì—ì„œ ì£¼ëª©ë°›ê³  ì‹¶ì–´ í•œë‹¤. ëœ¨ê²ê³  ì—´ì •ì ì¸ ì‚¬ë‘ì„ í•œë‹¤."
    },
    "ì²˜ë…€ìë¦¬": {
        "ë‚¨ì„±": "ì„¬ì„¸í•˜ê³  ê¼¼ê¼¼í•˜ë©°, í—Œì‹ ì ì¸ ì—°ì• ë¥¼ í•œë‹¤. ìƒëŒ€ë¥¼ ì„¸ì‹¬í•˜ê²Œ ë°°ë ¤í•œë‹¤.",
        "ì—¬ì„±": "í˜„ì‹¤ì ì´ê³  ì‹ ì¤‘í•˜ë©°, ë¯¿ìŒì„ ì£¼ëŠ” ì—°ì• ë¥¼ í•œë‹¤. ì•ˆì •ì ì¸ ê´€ê³„ë¥¼ ì¤‘ì‹œí•œë‹¤."
    },
    "ì²œì¹­ìë¦¬": {
        "ë‚¨ì„±": "ë§¤ë„ˆ ìˆê³  ì‚¬êµì ì´ë©°, ì¡°í™”ë¥¼ ì¤‘ìš”ì‹œí•œë‹¤. ìƒëŒ€ì—ê²Œ ë¡œë§¨í‹±í•œ ì‚¬ë‘ì„ ì „í•œë‹¤.",
        "ì—¬ì„±": "ìš°ì•„í•˜ê³  ë§¤ë ¥ì ì´ë©°, ì‚¬ë‘ì—ì„œ ê· í˜•ì„ ì°¾ëŠ”ë‹¤. ì™¸ëª¨ì™€ ë¶„ìœ„ê¸°ë¥¼ ì¤‘ì‹œí•œë‹¤."
    },
    "ì „ê°ˆìë¦¬": {
        "ë‚¨ì„±": "ê°•ë ¬í•˜ê³  ê¹Šì€ ì‚¬ë‘ì„ í•œë‹¤. ì§ˆíˆ¬ì‹¬ì´ ê°•í•˜ì§€ë§Œ í—Œì‹ ì ì´ë‹¤.",
        "ì—¬ì„±": "ë§¤í˜¹ì ì´ê³  ì§‘ì°©ì´ ê°•í•˜ì§€ë§Œ, ìƒëŒ€ë°©ì—ê²Œ ëª°ì…í•˜ëŠ” ëœ¨ê±°ìš´ ì‚¬ë‘ì„ í•œë‹¤."
    },
    "ì‚¬ìˆ˜ìë¦¬": {
        "ë‚¨ì„±": "ììœ ë¡œìš´ ì˜í˜¼ìœ¼ë¡œ ì¦ê²ê³  ê¸ì •ì ì¸ ì—°ì• ë¥¼ í•œë‹¤. ì§‘ì°©í•˜ì§€ ì•ŠëŠ”ë‹¤.",
        "ì—¬ì„±": "í™œë°œí•˜ê³  ë‚™ì²œì ì´ë©°, ì—°ì• ì—ì„œ ëª¨í—˜ì‹¬ì´ ê°•í•˜ë‹¤. ììœ ë¥¼ ì¤‘ì‹œí•œë‹¤."
    },
    "ì—¼ì†Œìë¦¬": {
        "ë‚¨ì„±": "ì„±ì‹¤í•˜ê³  í˜„ì‹¤ì ì´ë©°, ì±…ì„ê° ìˆëŠ” ì‚¬ë‘ì„ í•œë‹¤. ë‹¤ì†Œ ë³´ìˆ˜ì ì´ë‹¤.",
        "ì—¬ì„±": "ì‹ ë¢°í•  ìˆ˜ ìˆê³  ì¸ë‚´ì‹¬ì´ ê°•í•˜ë©°, ì¥ê¸°ì ì¸ ê´€ê³„ë¥¼ ì¤‘ì‹œí•œë‹¤."
    },
    "ë¬¼ë³‘ìë¦¬": {
        "ë‚¨ì„±": "ë…ì°½ì ì´ê³  ììœ ë¡œìš´ ì—°ì• ë¥¼ í•œë‹¤. ì¹œêµ¬ ê°™ì€ ì‚¬ë‘ì„ ì„ í˜¸í•œë‹¤.",
        "ì—¬ì„±": "ê°œë°©ì ì´ê³  ë…ë¦½ì ì´ë©°, ììœ ë¡œìš´ ê´€ê³„ë¥¼ ì›í•œë‹¤. ë…íŠ¹í•œ ë§¤ë ¥ì„ ì§€ë…”ë‹¤."
    },
    "ë¬¼ê³ ê¸°ìë¦¬": {
        "ë‚¨ì„±": "ê°ìˆ˜ì„±ì´ í’ë¶€í•˜ê³  ë¡œë§¨í‹±í•˜ë‹¤. ë‹¤ì •í•˜ë©° ìƒëŒ€ì˜ ê°ì •ì„ ì˜ ì´í•´í•œë‹¤.",
        "ì—¬ì„±": "ìƒìƒë ¥ì´ í’ë¶€í•˜ê³  í—Œì‹ ì ì´ë©°, ìƒëŒ€ë°©ì—ê²Œ ê¹Šì´ ë¹ ì ¸ë“œëŠ” ì‚¬ë‘ì„ í•œë‹¤."
    }
}

# ë³„ìë¦¬ ê¶í•© ì¶”ì²œ (ê°„ë‹¨íˆ ì •ë¦¬)
compatibility = {
    "ì–‘ìë¦¬": ["ì‚¬ììë¦¬", "ì‚¬ìˆ˜ìë¦¬"],
    "í™©ì†Œìë¦¬": ["ì²˜ë…€ìë¦¬", "ì—¼ì†Œìë¦¬"],
    "ìŒë‘¥ì´ìë¦¬": ["ì²œì¹­ìë¦¬", "ë¬¼ë³‘ìë¦¬"],
    "ê²Œìë¦¬": ["ì „ê°ˆìë¦¬", "ë¬¼ê³ ê¸°ìë¦¬"],
    "ì‚¬ììë¦¬": ["ì–‘ìë¦¬", "ì‚¬ìˆ˜ìë¦¬"],
    "ì²˜ë…€ìë¦¬": ["í™©ì†Œìë¦¬", "ì—¼ì†Œìë¦¬"],
    "ì²œì¹­ìë¦¬": ["ìŒë‘¥ì´ìë¦¬", "ë¬¼ë³‘ìë¦¬"],
    "ì „ê°ˆìë¦¬": ["ê²Œìë¦¬", "ë¬¼ê³ ê¸°ìë¦¬"],
    "ì‚¬ìˆ˜ìë¦¬": ["ì–‘ìë¦¬", "ì‚¬ììë¦¬"],
    "ì—¼ì†Œìë¦¬": ["í™©ì†Œìë¦¬", "ì²˜ë…€ìë¦¬"],
    "ë¬¼ë³‘ìë¦¬": ["ìŒë‘¥ì´ìë¦¬", "ì²œì¹­ìë¦¬"],
    "ë¬¼ê³ ê¸°ìë¦¬": ["ê²Œìë¦¬", "ì „ê°ˆìë¦¬"]
}

# Streamlit ì•± ì‹œì‘
st.title("âœ¨ ë³„ìë¦¬ì™€ ì„±ë³„ë¡œ ë³´ëŠ” ì—°ì•  ê¶í•© ì•± âœ¨")

st.header("1. ë³¸ì¸ ì •ë³´ ì…ë ¥")
your_birthday = st.date_input("ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”", datetime.date(2000, 1, 1))
your_gender = st.radio("ì„±ë³„", ["ë‚¨ì„±", "ì—¬ì„±"])

your_zodiac = get_zodiac(your_birthday.month, your_birthday.day)
st.subheader(f"ë‹¹ì‹ ì˜ ë³„ìë¦¬: {your_zodiac}")
st.write(f"ì—°ì•  ì„±í–¥ ({your_gender}): {love_traits[your_zodiac][your_gender]}")

st.header("2. ìƒëŒ€ë°© ì •ë³´ ì…ë ¥")
partner_birthday = st.date_input("ìƒëŒ€ë°© ìƒë…„ì›”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”", datetime.date(2000, 1, 1), key="partner")
partner_gender = st.radio("ìƒëŒ€ë°© ì„±ë³„", ["ë‚¨ì„±", "ì—¬ì„±"], key="partner_gender")

partner_zodiac = get_zodiac(partner_birthday.month, partner_birthday.day)
st.subheader(f"ìƒëŒ€ë°©ì˜ ë³„ìë¦¬: {partner_zodiac}")
st.write(f"ì—°ì•  ì„±í–¥ ({partner_gender}): {love_traits[partner_zodiac][partner_gender]}")

st.header("3. ë‘ ì‚¬ëŒì˜ ê¶í•©")
if partner_zodiac in compatibility[your_zodiac]:
    st.success(f"ğŸŒŸ {your_zodiac}ì™€ {partner_zodiac}ëŠ” í™˜ìƒì ì¸ ê¶í•©ì…ë‹ˆë‹¤! ì„œë¡œì˜ ì¥ì ì„ ì˜ ì‚´ë¦¬ê³  ê¸ì •ì ì¸ ê´€ê³„ë¡œ ë°œì „í•  ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.")
else:
    st.warning(f"âš¡ {your_zodiac}ì™€ {partner_zodiac}ëŠ” ì„±í–¥ ì°¨ì´ê°€ í´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„œë¡œì˜ ì°¨ì´ë¥¼ ì´í•´í•˜ê³  ë°°ë ¤í•œë‹¤ë©´ ì¶©ë¶„íˆ ì¢‹ì€ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.")

st.header("4. ì¶”ì²œ ë³„ìë¦¬")
recommended = compatibility[your_zodiac]
st.write(f"{your_zodiac}ì™€ ì˜ ì–´ìš¸ë¦¬ëŠ” ë³„ìë¦¬: {', '.join(recommended)}")

