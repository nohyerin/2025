import streamlit as st
import datetime

# ë³„ìë¦¬ ê³„ì‚° í•¨ìˆ˜
def get_zodiac(month, day):
    zodiacs = [
        ("ë¬¼ë³‘ìë¦¬", (1, 20), (2, 18)),
        ("ë¬¼ê³ ê¸°ìë¦¬", (2, 19), (3, 20)),
        ("ì–‘ìë¦¬", (3, 21), (4, 19)),
        ("í™©ì†Œìë¦¬", (4, 20), (5, 20)),
        ("ìŒë‘¥ì´ìë¦¬", (5, 21), (6, 21)),
        ("ê²Œìë¦¬", (6, 22), (7, 22)),
        ("ì‚¬ììë¦¬", (7, 23), (8, 22)),
        ("ì²˜ë…€ìë¦¬", (8, 23), (9, 22)),
        ("ì²œì¹­ìë¦¬", (9, 23), (10, 22)),
        ("ì „ê°ˆìë¦¬", (10, 23), (11, 22)),
        ("ì‚¬ìˆ˜ìë¦¬", (11, 23), (12, 21)),
        ("ì—¼ì†Œìë¦¬", (12, 22), (1, 19)),
    ]
    for zodiac, (start_month, start_day), (end_month, end_day) in zodiacs:
        if (month == start_month and day >= start_day) or (month == end_month and day <= end_day):
            return zodiac
    return "ì•Œ ìˆ˜ ì—†ìŒ"

# ë³„ìë¦¬ë³„ ì—°ì•  ì„±í–¥
love_traits = {
    "ë¬¼ë³‘ìë¦¬": "ììœ ë¡œìš´ ì˜í˜¼ìœ¼ë¡œ, ì—°ì• ì—ì„œë„ ì¹œêµ¬ ê°™ì€ ê´€ê³„ë¥¼ ì„ í˜¸í•˜ë©° ìƒëŒ€ì—ê²Œ ê°„ì„­ì„ ì‹«ì–´í•©ë‹ˆë‹¤. "
             "ê°œì„±ê³¼ ì§€ì ì¸ ëŒ€í™”ë¥¼ ì¤‘ì‹œí•˜ë©°, ë…ì°½ì ì¸ ì—°ì•  ë°©ì‹ì„ ì¢‹ì•„í•©ë‹ˆë‹¤.",
    "ë¬¼ê³ ê¸°ìë¦¬": "ê°ìˆ˜ì„±ì´ í’ë¶€í•˜ê³  í—Œì‹ ì ì¸ ì‚¬ë‘ì„ ì¶”êµ¬í•©ë‹ˆë‹¤. ìƒëŒ€ì˜ ê°ì •ì„ ì˜ ê³µê°í•˜ê³ , "
              "ë•Œë¡œëŠ” ìê¸° ìì‹ ë³´ë‹¤ ìƒëŒ€ë¥¼ ë” ìš°ì„ ì‹œí•˜ëŠ” ë©´ì´ ìˆìŠµë‹ˆë‹¤.",
    "ì–‘ìë¦¬": "ì—´ì •ì ì´ê³  ì§ì„¤ì ì¸ ì—°ì•  ìŠ¤íƒ€ì¼ì„ ê°€ì§‘ë‹ˆë‹¤. ì ê·¹ì ì´ê³  ë¹ ë¥´ê²Œ ê´€ê³„ë¥¼ ë°œì „ì‹œí‚¤ëŠ” ê²ƒì„ ì¢‹ì•„í•˜ì§€ë§Œ, "
           "ê°€ë”ì€ ì„±ê¸‰í•´ ë³´ì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.",
    "í™©ì†Œìë¦¬": "ì•ˆì •ì ì´ê³  ì‹ ë¢°ë¥¼ ë°”íƒ•ìœ¼ë¡œ í•œ ì‚¬ë‘ì„ ì›í•©ë‹ˆë‹¤. ëŠë¦¬ì§€ë§Œ ê¹Šì€ ì‚¬ë‘ì„ ì¶”êµ¬í•˜ë©°, "
            "í•œ ë²ˆ ë§ˆìŒì„ ì£¼ë©´ ë³€í•¨ì´ ì—†ìŠµë‹ˆë‹¤.",
    "ìŒë‘¥ì´ìë¦¬": "í˜¸ê¸°ì‹¬ ë§ê³  ìœ ì¾Œí•œ ì—°ì• ë¥¼ í•©ë‹ˆë‹¤. ë‹¤ì–‘í•œ ëŒ€í™”ì™€ í™œë™ì„ í†µí•´ ì¦ê±°ì›€ì„ ì°¾ìœ¼ë©°, "
             "ììœ ë¡œìš´ ë¶„ìœ„ê¸°ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.",
    "ê²Œìë¦¬": "ë”°ëœ»í•˜ê³  ê°€ì •ì ì¸ ì‚¬ë‘ì„ ì›í•©ë‹ˆë‹¤. ìƒëŒ€ì—ê²Œ í—Œì‹ ì ì´ë©° ì•ˆì •ê°ì„ ì£¼ì§€ë§Œ, "
           "ë•Œë•Œë¡œ ì§‘ì°©ì´ ê°•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    "ì‚¬ììë¦¬": "ìì‹ ê° ë„˜ì¹˜ê³  ì—´ì •ì ì¸ ì—°ì•  ìŠ¤íƒ€ì¼ì„ ê°€ì§‘ë‹ˆë‹¤. ì‚¬ë‘ì„ í‘œí˜„í•˜ëŠ” ë° ì•„ë‚Œì´ ì—†ìœ¼ë©°, "
            "ìƒëŒ€ë°©ì—ê²Œë„ ì§„ì‹¬ ì–´ë¦° ì• ì •ì„ ì›í•©ë‹ˆë‹¤.",
    "ì²˜ë…€ìë¦¬": "ì„¸ì‹¬í•˜ê³  í˜„ì‹¤ì ì¸ ì—°ì• ê´€ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤. ì‘ì€ ë¶€ë¶„ê¹Œì§€ ì‹ ê²½ ì“°ë©° ìƒëŒ€ë¥¼ ë°°ë ¤í•˜ì§€ë§Œ, "
             "ë•Œë¡œëŠ” ê¹Œë‹¤ë¡œì›Œ ë³´ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
    "ì²œì¹­ìë¦¬": "ë°¸ëŸ°ìŠ¤ì™€ ì¡°í™”ë¥¼ ì¤‘ìš”í•˜ê²Œ ìƒê°í•©ë‹ˆë‹¤. ìƒëŒ€ë°©ê³¼ì˜ ê³µê°ëŒ€ë¥¼ ì¤‘ì‹œí•˜ë©°, í•¨ê»˜í•˜ëŠ” ì‹œê°„ì„ ì¦ê¹ë‹ˆë‹¤. "
             "ë‚­ë§Œì ì¸ ë©´ëª¨ë„ ê°•í•©ë‹ˆë‹¤.",
    "ì „ê°ˆìë¦¬": "ê°•ë ¬í•˜ê³  ê¹Šì€ ì‚¬ë‘ì„ ì¶”êµ¬í•©ë‹ˆë‹¤. ì§‘ì°©ì´ ê°•í•  ìˆ˜ ìˆì§€ë§Œ, ì§„ì‹¬ìœ¼ë¡œ ì‚¬ë‘í•˜ë©´ í—Œì‹ ì ì´ê³  ì—´ì •ì ì…ë‹ˆë‹¤.",
    "ì‚¬ìˆ˜ìë¦¬": "ììœ ë¡­ê³  ëª¨í—˜ì ì¸ ì—°ì• ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤. ìƒëŒ€ë°©ê³¼ í•¨ê»˜ ìƒˆë¡œìš´ ê²½í—˜ì„ í•˜ê³  ì‹¶ì–´ í•˜ë©°, "
             "êµ¬ì†ë˜ëŠ” ê²ƒì„ ì‹«ì–´í•©ë‹ˆë‹¤.",
    "ì—¼ì†Œìë¦¬": "ì‹ ì¤‘í•˜ê³  ì±…ì„ê° ìˆëŠ” ì—°ì• ë¥¼ ì¶”êµ¬í•©ë‹ˆë‹¤. ì‰½ê²Œ ë§ˆìŒì„ ì—´ì§€ ì•Šì§€ë§Œ, ì§„ì§€í•˜ê²Œ ì—°ì• ì— ì„í•˜ë©° "
             "í˜„ì‹¤ì ì¸ ì•ˆì •ê°ì„ ì¤ë‹ˆë‹¤."
}

# ë³„ìë¦¬ ê¶í•© (ì˜ ë§ëŠ” í¬ì¸íŠ¸ í™•ì¥)
compatibility = {
    ("ë¬¼ë³‘ìë¦¬", "ìŒë‘¥ì´ìë¦¬"): {
        "summary": "ë‘ ë³„ìë¦¬ëŠ” ììœ ë¡­ê³  ì§€ì ì¸ ëŒ€í™” ì†ì—ì„œ ì˜ ë§ìŠµë‹ˆë‹¤.",
        "details": {
            "ëŒ€í™” ìŠ¤íƒ€ì¼": "ì„œë¡œ ì§€ì ì¸ ì£¼ì œì™€ ë‹¤ì–‘í•œ ê´€ì‹¬ì‚¬ë¥¼ ê³µìœ í•˜ë©° ëŒ€í™”ê°€ ëŠê¸°ì§€ ì•ŠìŠµë‹ˆë‹¤.",
            "ê°ì • í‘œí˜„": "ë‘˜ ë‹¤ ì§‘ì°©í•˜ì§€ ì•Šê³  ììœ ë¡­ê²Œ ê°ì •ì„ ë‚˜ëˆ„ì–´ í¸ì•ˆí•©ë‹ˆë‹¤.",
            "ê°€ì¹˜ê´€": "ìƒˆë¡œìš´ ê²½í—˜ê³¼ ê°œì„±ì„ ì¡´ì¤‘í•˜ëŠ” ê³µí†µì ì´ ìˆì–´ ì˜ ë§ìŠµë‹ˆë‹¤.",
            "ì—°ì•  ì†ë„": "ë¹ ë¥´ê²Œ ê°€ê¹Œì›Œì§€ì§€ë§Œ ì„œë¡œì—ê²Œ ë¶€ë‹´ì„ ì£¼ì§€ ì•ŠìŠµë‹ˆë‹¤.",
            "ì¥ë‹¨ì  ì¡°ìœ¨": "ììœ ë¥¼ ì¡´ì¤‘í•˜ë©´ì„œë„ í•„ìš”í•  ë•ŒëŠ” ì§„ì§€í•œ ëŒ€í™”ë¡œ ê· í˜•ì„ ì°¾ìŠµë‹ˆë‹¤."
        }
    },
    ("ê²Œìë¦¬", "ì „ê°ˆìë¦¬"): {
        "summary": "ê¹Šì€ ê°ì • êµë¥˜ë¡œ ëˆëˆí•œ ìœ ëŒ€ê°ì„ í˜•ì„±í•˜ëŠ” ê¶í•©ì…ë‹ˆë‹¤.",
        "details": {
            "ëŒ€í™” ìŠ¤íƒ€ì¼": "ê°ì •ì— ì†”ì§í•˜ë©° ì§„ì§€í•œ ëŒ€í™”ë¡œ ì„œë¡œë¥¼ ì´í•´í•©ë‹ˆë‹¤.",
            "ê°ì • í‘œí˜„": "í—Œì‹ ì ì´ê³  ê°•í•œ ì• ì • í‘œí˜„ì„ ì£¼ê³ ë°›ìŠµë‹ˆë‹¤.",
            "ê°€ì¹˜ê´€": "ê°€ì •ê³¼ ì•ˆì •, ê¹Šì€ ì‹ ë¢°ë¥¼ ì¤‘ì‹œí•˜ëŠ” ê³µí†µì ì´ ìˆìŠµë‹ˆë‹¤.",
            "ì—°ì•  ì†ë„": "ì²œì²œíˆ ê¹Šì–´ì§€ë©° ì‹œê°„ì´ ì§€ë‚ ìˆ˜ë¡ ë” ë‹¨ë‹¨í•´ì§‘ë‹ˆë‹¤.",
            "ì¥ë‹¨ì  ì¡°ìœ¨": "ê²Œìë¦¬ì˜ ë”°ëœ»í•¨ê³¼ ì „ê°ˆìë¦¬ì˜ ì—´ì •ì´ ì–´ìš°ëŸ¬ì ¸ ê· í˜•ì„ ì´ë£¹ë‹ˆë‹¤."
        }
    },
    ("ì‚¬ììë¦¬", "ì²œì¹­ìë¦¬"): {
        "summary": "ë‚­ë§Œì ì´ê³  ì¦ê±°ìš´ ì—°ì• ë¥¼ í•  ìˆ˜ ìˆëŠ” ì¡°í•©ì…ë‹ˆë‹¤.",
        "details": {
            "ëŒ€í™” ìŠ¤íƒ€ì¼": "ì‚¬êµì ì´ê³  ë°ì€ ë¶„ìœ„ê¸° ì†ì—ì„œ ëŒ€í™”ê°€ ì¦ê²ìŠµë‹ˆë‹¤.",
            "ê°ì • í‘œí˜„": "ì‚¬ììë¦¬ì˜ ì ê·¹ì ì¸ í‘œí˜„ê³¼ ì²œì¹­ìë¦¬ì˜ ë‚­ë§Œì ì¸ í‘œí˜„ì´ ì–´ìš¸ë¦½ë‹ˆë‹¤.",
            "ê°€ì¹˜ê´€": "ì‚¬ë‘ì—ì„œì˜ ì¦ê±°ì›€ê³¼ ì‚¬íšŒì  í™œë™ì„ ì¤‘ì‹œí•˜ëŠ” ê³µí†µì ì´ ìˆìŠµë‹ˆë‹¤.",
            "ì—°ì•  ì†ë„": "ë¹ ë¥´ê²Œ ê°€ê¹Œì›Œì§€ê³  ì¦ê²ê²Œ ë°œì „í•©ë‹ˆë‹¤.",
            "ì¥ë‹¨ì  ì¡°ìœ¨": "ì‚¬ìì˜ ì£¼ë„ì„±ê³¼ ì²œì¹­ì˜ ì¡°í™” ê°ê°ì´ ì˜ ì–´ìš¸ë¦½ë‹ˆë‹¤."
        }
    }
}

def check_compatibility(zodiac1, zodiac2):
    pair = (zodiac1, zodiac2)
    reverse_pair = (zodiac2, zodiac1)
    if pair in compatibility:
        return compatibility[pair]
    elif reverse_pair in compatibility:
        return compatibility[reverse_pair]
    else:
        return {
            "summary": f"{zodiac1}ì™€ {zodiac2}ëŠ” íŠ¹ë³„í•œ ì¡°í•©ì€ ì•„ë‹ˆì§€ë§Œ ì„œë¡œì˜ ì°¨ì´ë¥¼ ì¡´ì¤‘í•œë‹¤ë©´ ì¢‹ì€ ê´€ê³„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
            "details": {
                "ëŒ€í™” ìŠ¤íƒ€ì¼": "ì„œë¡œ ë‹¤ë¥¸ ë°©ì‹ì˜ ëŒ€í™”ë¥¼ ì´í•´í•˜ë ¤ëŠ” ë…¸ë ¥ì´ í•„ìš”í•©ë‹ˆë‹¤.",
                "ê°ì • í‘œí˜„": "ê°ì • í‘œí˜„ì˜ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìœ¼ë‚˜ ì¡´ì¤‘í•œë‹¤ë©´ ë³´ì™„ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.",
                "ê°€ì¹˜ê´€": "ê°€ì¹˜ê´€ ì°¨ì´ë¥¼ ì¸ì •í•˜ê³  ì¡°ìœ¨í•˜ëŠ” ê³¼ì •ì—ì„œ ì„±ìˆ™í•´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "ì—°ì•  ì†ë„": "ì†ë„ì˜ ì°¨ì´ë¥¼ ì¡°ìœ¨í•´ì•¼ í•˜ì§€ë§Œ ì„œë¡œë¥¼ ì´í•´í•˜ë©´ ë§ì¶°ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                "ì¥ë‹¨ì  ì¡°ìœ¨": "ì°¨ì´ë¥¼ ì´í•´í•˜ê³  ë§ì¶°ê°€ë ¤ëŠ” íƒœë„ê°€ ê´€ê³„ë¥¼ ë”ìš± ë‹¨ë‹¨í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤."
            }
        }

# Streamlit UI
st.title("ğŸŒŒ ë³„ìë¦¬ ì—°ì•  ê¶í•© í…ŒìŠ¤íŠ¸")

st.header("ë³¸ì¸ ì •ë³´ ì…ë ¥")
name1 = st.text_input("ì´ë¦„ (ë³¸ì¸)")
birth1 = st.date_input("ìƒë…„ì›”ì¼ (ë³¸ì¸)", min_value=datetime.date(1900, 1, 1))
gender1 = st.radio("ì„±ë³„ (ë³¸ì¸)", ["ë‚¨ì„±", "ì—¬ì„±"])

st.header("ìƒëŒ€ë°© ì •ë³´ ì…ë ¥")
name2 = st.text_input("ì´ë¦„ (ìƒëŒ€ë°©)")
birth2 = st.date_input("ìƒë…„ì›”ì¼ (ìƒëŒ€ë°©)", min_value=datetime.date(1900, 1, 1))
gender2 = st.radio("ì„±ë³„ (ìƒëŒ€ë°©)", ["ë‚¨ì„±", "ì—¬ì„±"])

if st.button("ê¶í•© ë³´ê¸°"):
    zodiac1 = get_zodiac(birth1.month, birth1.day)
    zodiac2 = get_zodiac(birth2.month, birth2.day)

    st.subheader(f"âœ¨ {name1}ë‹˜ì˜ ë³„ìë¦¬: {zodiac1}")
    st.write(f"ì—°ì•  ì„±í–¥: {love_traits[zodiac1]}")

    st.subheader(f"âœ¨ {name2}ë‹˜ì˜ ë³„ìë¦¬: {zodiac2}")
    st.write(f"ì—°ì•  ì„±í–¥: {love_traits[zodiac2]}")

    st.subheader("ğŸ’ ë‘ ì‚¬ëŒì˜ ê¶í•© ê²°ê³¼")
    result = check_compatibility(zodiac1, zodiac2)
    st.write(result["summary"])

    st.write("#### ì˜ ë§ëŠ” í¬ì¸íŠ¸")
    for key, value in result["details"].items():
        st.write(f"- **{key}**: {value}")
